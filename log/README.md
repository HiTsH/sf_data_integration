# Log Directory - sf_data_integration

This directory contains log files generated by the `sf_data_integration` package. The logs track various events, errors, and processes throughout the data integration workflow, helping you monitor and troubleshoot the integration tasks.

## Log Setup

The logging system is configured using Python's built-in `logging` module and is set up to use rotating log files. Each log file is limited to 5 MB, and up to 5 backup logs will be maintained. New logs are created for each session, allowing you to track the history of the data integration tasks.

### Log Configuration

Logs are configured in the `setup_logger` function in the `sf_data_integration/logger.py` file. Here’s a summary of the log setup:

- **Log Level**: `INFO` by default, ensuring that informational messages, warnings, and errors are logged.
- **Log Rotation**: Each log file is limited to 5 MB, and up to 5 backup files will be stored. Once the size exceeds 5 MB, the log file is rotated.
- **Log File Path**: Logs are stored in the `log` directory, with filenames following the pattern `project_name_log.txt`.

Example of log file paths:
log/ ├── sf_data_integration_log.txt ├── sf_data_integration_log.txt.1 ├── sf_data_integration_log.txt.2 └── ...

### Accessing Log Files

You can access the log files in the `log` directory for troubleshooting, monitoring progress, and verifying the status of data migrations. If any errors occur, detailed error messages will be logged with timestamps to help you identify the cause.

#### Log Structure

- **INFO**: Logs that confirm the successful execution of various tasks, such as data retrieval, mapping, batching, and insertion into Salesforce.
- **ERROR**: Logs any issues or failures that occur during the integration process, including connection failures, invalid configurations, or data errors.
- **DEBUG**: Optional, more detailed logs for debugging purposes.

Example log entry:
2024-11-10 14:30:22,520 - sf_data_integration - INFO - Salesforce connection established successfully. 2024-11-10 14:30:23,000 - sf_data_integration - ERROR - Failed to retrieve data from CRM: Invalid API key.

### Example: Using Logs in Your Script

When using the `sf_data_integration` package in your own script, the logger is automatically initialized for you, but you can also specify a custom log directory:

```python
from sf_data_integration.logger import setup_logger

# Set up logger for your project
logger = setup_logger("my_project", log_dir="path/to/custom_log_directory")

# Example log usage
logger.info("Migration started.")
logger.error("An error occurred during data retrieval.")
```

The setup_logger function will create the log file in the specified directory, and you can then check the log file for detailed information.

## Troubleshooting

If the integration fails or produces errors, the logs in this directory will provide insight into where the issue occurred.
Ensure that the Salesforce connection credentials and data mappings are correct, as these are common causes of errors.
If log files grow too large, consider rotating them manually or adjusting the log configuration to suit your needs.

## Summary

The log directory contains logs that track the entire data migration process. By reviewing these logs, you can monitor the integration process, identify any issues, and ensure the successful migration of data into Salesforce.

For more details on configuring logging, refer to the setup_logger function in the sf_data_integration/logger.py file.
